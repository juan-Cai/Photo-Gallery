{"ast":null,"code":"import _asyncToGenerator from \"/workspaces/Photo-Gallery/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component, inject } from '@angular/core';\nimport { Firestore, collection, addDoc, collectionData, updateDoc, doc, deleteDoc } from '@angular/fire/firestore';\nlet Tab1Page = class Tab1Page {\n  constructor(alertController, photoService) {\n    this.alertController = alertController;\n    this.photoService = photoService;\n    this.b0 = -7.8979;\n    this.b1 = 0.0399;\n    this.b2 = 0.0698;\n    this.e = Math.exp(1);\n    this.cuttOff = 0.3109;\n    this.photo = [];\n    this.firestore = inject(Firestore);\n    const userColl = collection(this.firestore, \"test\");\n    this.test$ = collectionData(userColl, {\n      idField: \"uid\"\n    });\n    this.setNameShared();\n  }\n  crear(Titulo, Autor) {\n    addDoc(collection(this.firestore, \"test\"), {\n      Titulo: Titulo,\n      Autor: Autor\n    });\n    console.log(this.test$);\n  }\n  update(Titulo, Autor, uid) {\n    let refDoc = doc(this.firestore, \"test\", uid);\n    updateDoc(refDoc, {\n      Titulo: Titulo,\n      Autor: Autor\n    });\n  }\n  delete(uid) {\n    let refDoc = doc(this.firestore, \"test\", uid);\n    deleteDoc(refDoc);\n  }\n  showCreateAlert() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      let alert = yield _this.alertController.create({\n        header: \"Agregar paciente\",\n        inputs: [{\n          name: \"Titulo\",\n          placeholder: \"ingrese un titulo\",\n          type: \"text\"\n        }, {\n          id: \"Autor\",\n          name: \"Autor\",\n          placeholder: \"ingrese el autor\",\n          type: \"text\"\n        }],\n        buttons: [{\n          text: \"Agregar\",\n          handler: data => {\n            let titulo = data.titulo;\n            let autor = data.titulo;\n            _this.crear(titulo, autor);\n          }\n        }]\n      });\n      alert.present();\n    })();\n  }\n  showUpdateAlert(info) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      let alert = yield _this2.alertController.create({\n        header: \"Editar Libro\",\n        inputs: [{\n          name: \"Titulo\",\n          placeholder: info.Titulo,\n          value: info.Titulo,\n          type: 'text'\n        }, {\n          name: \"Autor\",\n          placeholder: info.Autor,\n          type: \"text\",\n          value: info.Autor\n        }],\n        buttons: [{\n          text: \"editar\",\n          handler: data => {\n            let titulo = data.Titulo;\n            let autor = data.Autor;\n            _this2.update(titulo, autor, info.uid);\n          }\n        }]\n      });\n      yield alert.present();\n    })();\n  }\n  ngOnInit() {\n    this.photoService.sharedNombre.subscribe(nombreUser => this.nombreUser = nombreUser);\n    this.photoService.sharedPhoto.subscribe(photo => this.photo = photo);\n    console.log(this.photo);\n  }\n  setNameShared() {\n    this.photoService.nextNombre(\"Ingresa tu nombre en Tab 2\");\n  }\n};\nTab1Page = __decorate([Component({\n  selector: 'app-tab1',\n  templateUrl: 'tab1.page.html',\n  styleUrls: ['tab1.page.scss'],\n  standalone: false\n})], Tab1Page);\nexport { Tab1Page };","map":{"version":3,"names":["Component","inject","Firestore","collection","addDoc","collectionData","updateDoc","doc","deleteDoc","Tab1Page","constructor","alertController","photoService","b0","b1","b2","e","Math","exp","cuttOff","photo","firestore","userColl","test$","idField","setNameShared","crear","Titulo","Autor","console","log","update","uid","refDoc","delete","showCreateAlert","_this","_asyncToGenerator","alert","create","header","inputs","name","placeholder","type","id","buttons","text","handler","data","titulo","autor","present","showUpdateAlert","info","_this2","value","ngOnInit","sharedNombre","subscribe","nombreUser","sharedPhoto","nextNombre","__decorate","selector","templateUrl","styleUrls","standalone"],"sources":["/workspaces/Photo-Gallery/src/app/tab1/tab1.page.ts"],"sourcesContent":["import { Component, inject, input } from '@angular/core';\nimport { Firestore, collection, addDoc, CollectionReference, collectionData, updateDoc, doc, deleteDoc } from '@angular/fire/firestore';\nimport { AlertController } from '@ionic/angular';\nimport { Observable } from 'rxjs';\nimport { PhotosService } from '../photoServices/photos.service';\nimport { UserPhoto } from '../services/photo.service';\n@Component({\n  selector: 'app-tab1',\n  templateUrl: 'tab1.page.html',\n  styleUrls: ['tab1.page.scss'],\n  standalone: false,\n})\nexport class Tab1Page {\n\n  b0 = -7.8979\n  b1 = 0.0399\n  b2 = 0.0698\n  e = Math.exp(1)\n  cuttOff = 0.3109\n\n\n\n  photo: UserPhoto[] = [];\n  nombreUser!: string;\n  private firestore: Firestore = inject(Firestore);\n  test$!: Observable<Test[]>;\n  constructor(private alertController: AlertController, private photoService: PhotosService) {\n    const userColl = collection(this.firestore, \"test\");\n    this.test$ = collectionData(userColl, {idField: \"uid\"}) as Observable<Test[]>;\n    this.setNameShared();\n  }\n\n  \n  crear(Titulo: string, Autor: string){\n    addDoc(collection(this.firestore, \"test\"), {Titulo: Titulo,Autor: Autor});\n    console.log(this.test$);\n  }\n\n  update(Titulo: string, Autor: string, uid: any){\n    let refDoc = doc(this.firestore, \"test\", uid);\n    updateDoc(refDoc, {Titulo: Titulo, Autor: Autor});\n  }\n\n  delete(uid: any){\n    let refDoc = doc(this.firestore, \"test\", uid);\n    deleteDoc(refDoc);\n  }\n\n  async showCreateAlert(){\n    let alert = await this.alertController.create({\n      header: \"Agregar paciente\",\n      inputs: [\n        {\n          name: \"Titulo\",\n          placeholder: \"ingrese un titulo\",\n          type: \"text\"\n        },\n        {\n          id: \"Autor\",\n          name: \"Autor\",\n          placeholder: \"ingrese el autor\",\n          type: \"text\"\n        }\n      ],\n      buttons: [\n        {\n          text: \"Agregar\",\n          handler: data => {\n            let titulo = data.titulo;\n            let autor = data.titulo;\n\n            this.crear(titulo,autor);\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n\n\n\n  async showUpdateAlert(info: any){\n    let alert = await this.alertController.create({\n      header: \"Editar Libro\",\n      inputs: [\n        {\n          name: \"Titulo\",\n          placeholder: info.Titulo,\n          value: info.Titulo,\n          type: 'text'\n        },\n        {\n          name: \"Autor\",\n          placeholder: info.Autor,\n          type: \"text\",\n          value: info.Autor\n        }\n      ],\n      buttons: [\n        {\n          text: \"editar\",\n          handler: data => {\n            let titulo = data.Titulo;\n            let autor = data.Autor;\n            this.update(titulo,autor,info.uid);\n          }\n        }\n      ]\n    })\n    await alert.present();\n    \n  }\n\n  ngOnInit(){\n    this.photoService.sharedNombre.subscribe(nombreUser => this.nombreUser = nombreUser);\n    this.photoService.sharedPhoto.subscribe(photo => this.photo = photo);\n    console.log(this.photo)\n  }\n\n  setNameShared(){\n    this.photoService.nextNombre(\"Ingresa tu nombre en Tab 2\");\n  }\n\n}\n\n\nexport interface Test {\n  Titulo: String,\n  Autor: String,\n  uid: String\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}