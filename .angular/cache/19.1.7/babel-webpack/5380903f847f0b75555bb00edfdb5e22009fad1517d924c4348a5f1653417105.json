{"ast":null,"code":"import _asyncToGenerator from \"/workspaces/Photo-Gallery/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/photo.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"../photoServices/photos.service\";\nimport * as i4 from \"@angular/common\";\nfunction Tab2Page_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"ion-avatar\")(2, \"ion-img\", 15);\n    i0.ɵɵlistener(\"click\", function Tab2Page_div_17_Template_ion_img_click_2_listener() {\n      const ctx_r1 = i0.ɵɵrestoreView(_r1);\n      const photo_r3 = ctx_r1.$implicit;\n      const position_r4 = ctx_r1.index;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.showActionSheet(photo_r3, position_r4));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const photo_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", photo_r3.webviewPath);\n  }\n}\nexport class Tab2Page {\n  constructor(photoService, actionSheetController, photosService) {\n    this.photoService = photoService;\n    this.actionSheetController = actionSheetController;\n    this.photosService = photosService;\n    this.alertButtons = [{\n      text: \"actualizar\",\n      handler: data => {\n        this.setName(data.Nombre);\n      }\n    }];\n    this.alertInputs = [{\n      name: \"Nombre\",\n      placeholder: \"ingrese el nombre nuevo\"\n    }];\n  }\n  // Agregar foto\n  addPhotoToGallery() {\n    this.photoService.addNewToGallery(this.photosService);\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.photoService.loadSaved();\n      _this.photosService.sharedNombre.subscribe(nombreUser => _this.nameUser = nombreUser);\n      _this.photosService.sharedPhoto.subscribe(photo => _this.photoService.photos = photo);\n    })();\n  }\n  showActionSheet(photo, position) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const actionSheet = yield _this2.actionSheetController.create({\n        header: 'Photos',\n        buttons: [{\n          text: 'Delete',\n          role: 'destructive',\n          icon: 'trash',\n          handler: () => {\n            _this2.photoService.deletePicture(photo, position, _this2.photosService);\n          }\n        }, {\n          text: 'Cancel',\n          icon: 'close',\n          role: 'cancel',\n          handler: () => {\n            // Nothing to do, action sheet is automatically closed\n          }\n        }]\n      });\n      yield actionSheet.present();\n    })();\n  }\n  setName(name) {\n    this.photosService.nextNombre(name);\n  }\n  static {\n    this.ɵfac = function Tab2Page_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || Tab2Page)(i0.ɵɵdirectiveInject(i1.PhotoService), i0.ɵɵdirectiveInject(i2.ActionSheetController), i0.ɵɵdirectiveInject(i3.PhotosService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: Tab2Page,\n      selectors: [[\"app-tab2\"]],\n      standalone: false,\n      decls: 24,\n      vars: 6,\n      consts: [[3, \"translucent\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [\"slot\", \"fixed\", \"vertical\", \"bottom\", \"horizontal\", \"end\"], [\"name\", \"chevron-up-circle\"], [\"side\", \"top\"], [3, \"click\"], [\"name\", \"camera\"], [\"id\", \"changeName\"], [\"name\", \"information-outline\"], [\"id\", \"image\", \"size\", \"6\", 4, \"ngFor\", \"ngForOf\"], [\"color\", \"primary\"], [\"trigger\", \"changeName\", \"header\", \"Actualizar Nombre\", 3, \"buttons\", \"inputs\"], [\"id\", \"image\", \"size\", \"6\"], [3, \"click\", \"src\"]],\n      template: function Tab2Page_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n          i0.ɵɵtext(3, \" Galeria de fotos \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(4, \"ion-content\", 1)(5, \"ion-header\", 2)(6, \"ion-toolbar\")(7, \"ion-title\", 3);\n          i0.ɵɵtext(8, \"Galeria de fotos\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(9, \"ion-fab\", 4)(10, \"ion-fab-button\");\n          i0.ɵɵelement(11, \"ion-icon\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"ion-fab-list\", 6)(13, \"ion-fab-button\", 7);\n          i0.ɵɵlistener(\"click\", function Tab2Page_Template_ion_fab_button_click_13_listener() {\n            return ctx.addPhotoToGallery();\n          });\n          i0.ɵɵelement(14, \"ion-icon\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"ion-fab-button\", 9);\n          i0.ɵɵelement(16, \"ion-icon\", 10);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(17, Tab2Page_div_17_Template, 3, 1, \"div\", 11);\n          i0.ɵɵelementStart(18, \"ion-card\")(19, \"ion-card-content\")(20, \"ion-text\", 12)(21, \"h1\");\n          i0.ɵɵtext(22);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelement(23, \"ion-alert\", 13);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"translucent\", true);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"fullscreen\", true);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngForOf\", ctx.photoService.photos);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", ctx.nameUser, \" \");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"buttons\", ctx.alertButtons)(\"inputs\", ctx.alertInputs);\n        }\n      },\n      dependencies: [i2.IonAlert, i2.IonAvatar, i2.IonCard, i2.IonCardContent, i2.IonContent, i2.IonFab, i2.IonFabButton, i2.IonFabList, i2.IonHeader, i2.IonIcon, i2.IonImg, i2.IonText, i2.IonTitle, i2.IonToolbar, i4.NgForOf],\n      styles: [\"#image[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 10px;\\n  width: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGFiMi90YWIyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxVQUFBO0FBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyIjaW1hZ2Uge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIHdpZHRoOiAxMCU7XG4gICAgfVxuICAgICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","Tab2Page_div_17_Template_ion_img_click_2_listener","ctx_r1","ɵɵrestoreView","_r1","photo_r3","$implicit","position_r4","index","ctx_r4","ɵɵnextContext","ɵɵresetView","showActionSheet","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","webviewPath","Tab2Page","constructor","photoService","actionSheetController","photosService","alertButtons","text","handler","data","setName","Nombre","alertInputs","name","placeholder","addPhotoToGallery","addNewToGallery","ngOnInit","_this","_asyncToGenerator","loadSaved","sharedNombre","subscribe","nombreUser","nameUser","sharedPhoto","photo","photos","position","_this2","actionSheet","create","header","buttons","role","icon","deletePicture","present","nextNombre","ɵɵdirectiveInject","i1","PhotoService","i2","ActionSheetController","i3","PhotosService","selectors","standalone","decls","vars","consts","template","Tab2Page_Template","rf","ctx","ɵɵtext","ɵɵelement","Tab2Page_Template_ion_fab_button_click_13_listener","ɵɵtemplate","Tab2Page_div_17_Template","ɵɵtextInterpolate1"],"sources":["/workspaces/Photo-Gallery/src/app/tab2/tab2.page.ts","/workspaces/Photo-Gallery/src/app/tab2/tab2.page.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { PhotoService, UserPhoto } from '../services/photo.service';\nimport { ActionSheetController } from '@ionic/angular';\nimport { PhotosService } from '../photoServices/photos.service';\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss'],\n  standalone: false,\n})\nexport class Tab2Page {\n  nameUser!: string;\n  alertButtons = [\n    {\n      text: \"actualizar\",\n      handler: (data: { Nombre: string; }) => {\n        this.setName(data.Nombre);\n      }\n    }\n  ]\n  alertInputs = [\n    {\n      name: \"Nombre\",\n      placeholder: \"ingrese el nombre nuevo\"\n    }\n  ]\n  constructor(public photoService: PhotoService,\n    public actionSheetController: ActionSheetController, public photosService: PhotosService) {}\n\n\n  // Agregar foto\n  addPhotoToGallery() {\n    this.photoService.addNewToGallery(this.photosService);\n  }\n\n  async ngOnInit() {\n    await this.photoService.loadSaved();\n    this.photosService.sharedNombre.subscribe(nombreUser => this.nameUser = nombreUser);\n    this.photosService.sharedPhoto.subscribe(photo => this.photoService.photos = photo)\n  }\n\n  public async showActionSheet(photo: UserPhoto, position: number) {\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Photos',\n      buttons: [{\n        text: 'Delete',\n        role: 'destructive',\n        icon: 'trash',\n        handler: () => {\n          this.photoService.deletePicture(photo, position, this.photosService);\n        }\n      }, {\n        text: 'Cancel',\n        icon: 'close',\n        role: 'cancel',\n        handler: () => {\n          // Nothing to do, action sheet is automatically closed\n          }\n      }]\n    });\n    await actionSheet.present();\n  }\n\n  setName(name: string){\n    this.photosService.nextNombre(name);\n  }\n\n  \n  \n}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar>\n    <ion-title>\n      Galeria de fotos\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n  <ion-header collapse=\"condense\">\n    <ion-toolbar>\n      <ion-title size=\"large\">Galeria de fotos</ion-title>\n    </ion-toolbar>\n  </ion-header>\n\n  <ion-fab slot=\"fixed\" vertical=\"bottom\" horizontal=\"end\">\n  <ion-fab-button>\n    <ion-icon name=\"chevron-up-circle\"></ion-icon>\n  </ion-fab-button>\n  <ion-fab-list side=\"top\">\n    <ion-fab-button (click)=\"addPhotoToGallery()\">\n      <ion-icon name=\"camera\"></ion-icon>\n    </ion-fab-button>\n    <ion-fab-button id=\"changeName\">\n      <ion-icon name=\"information-outline\"></ion-icon>\n    </ion-fab-button>\n  </ion-fab-list>\n</ion-fab>\n        <div id=\"image\" size=\"6\" *ngFor=\"let photo of photoService.photos; index as position\">\n        <ion-avatar>\n        <ion-img [src]=\"photo.webviewPath\" (click)=\"showActionSheet(photo, position)\"></ion-img>\n        </ion-avatar>\n      </div>  \n\n      <ion-card>\n        <ion-card-content>\n          <ion-text color=\"primary\">\n            <h1>\n              {{ nameUser }}\n            </h1>\n          </ion-text>\n        </ion-card-content>\n      </ion-card>\n      <ion-alert\n  trigger=\"changeName\"\n  header=\"Actualizar Nombre\"\n  [buttons]=\"alertButtons\"\n  [inputs]=\"alertInputs\"\n></ion-alert>\n</ion-content>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}