{"ast":null,"code":"import _asyncToGenerator from \"/workspaces/Photo-Gallery/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/photo.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"../photoServices/photos.service\";\nimport * as i4 from \"@angular/common\";\nfunction Tab2Page_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"ion-avatar\")(2, \"ion-img\", 13);\n    i0.ɵɵlistener(\"click\", function Tab2Page_div_10_Template_ion_img_click_2_listener() {\n      const ctx_r1 = i0.ɵɵrestoreView(_r1);\n      const photo_r3 = ctx_r1.$implicit;\n      const position_r4 = ctx_r1.index;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.showActionSheet(photo_r3, position_r4));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const photo_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", photo_r3.webviewPath);\n  }\n}\nexport class Tab2Page {\n  constructor(photoService, actionSheetController, photosService) {\n    this.photoService = photoService;\n    this.actionSheetController = actionSheetController;\n    this.photosService = photosService;\n    this.alertButtons = [{\n      text: \"actualizar\",\n      handler: data => {\n        this.setName(data.Nombre);\n      }\n    }];\n    this.alertInputs = [{\n      name: \"Nombre\",\n      placeholder: \"ingrese el nombre nuevo\"\n    }];\n  }\n  // Agregar foto\n  addPhotoToGallery() {\n    this.photoService.addNewToGallery(this.photosService);\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.photoService.loadSaved();\n      _this.photosService.sharedNombre.subscribe(nombreUser => _this.nameUser = nombreUser);\n      _this.photosService.sharedPhoto.subscribe(photo => _this.photoService.photos = photo);\n    })();\n  }\n  showActionSheet(photo, position) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const actionSheet = yield _this2.actionSheetController.create({\n        header: 'Photos',\n        buttons: [{\n          text: 'Delete',\n          role: 'destructive',\n          icon: 'trash',\n          handler: () => {\n            _this2.photoService.deletePicture(photo, position, _this2.photosService);\n          }\n        }, {\n          text: 'Cancel',\n          icon: 'close',\n          role: 'cancel',\n          handler: () => {\n            // Nothing to do, action sheet is automatically closed\n          }\n        }]\n      });\n      yield actionSheet.present();\n    })();\n  }\n  setName(name) {\n    this.photosService.nextNombre(name);\n  }\n  static {\n    this.ɵfac = function Tab2Page_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || Tab2Page)(i0.ɵɵdirectiveInject(i1.PhotoService), i0.ɵɵdirectiveInject(i2.ActionSheetController), i0.ɵɵdirectiveInject(i3.PhotosService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: Tab2Page,\n      selectors: [[\"app-tab2\"]],\n      standalone: false,\n      decls: 22,\n      vars: 6,\n      consts: [[3, \"translucent\"], [\"color\", \"primary\"], [1, \"ion-padding\", 3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [1, \"photo-grid\"], [\"class\", \"photo-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"ion-text-center\"], [1, \"button-container\"], [\"expand\", \"block\", 3, \"click\"], [\"expand\", \"block\", \"color\", \"medium\", \"id\", \"changeName\"], [\"trigger\", \"changeName\", \"header\", \"Actualizar Nombre\", 3, \"buttons\", \"inputs\"], [1, \"photo-item\"], [3, \"click\", \"src\"]],\n      template: function Tab2Page_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\", 1)(2, \"ion-title\");\n          i0.ɵɵtext(3, \" \\uD83D\\uDCF7 Edicion \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(4, \"ion-content\", 2)(5, \"ion-header\", 3)(6, \"ion-toolbar\")(7, \"ion-title\", 4);\n          i0.ɵɵtext(8, \"\\uD83D\\uDCF7 Galer\\u00EDa de fotos\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(9, \"div\", 5);\n          i0.ɵɵtemplate(10, Tab2Page_div_10_Template, 3, 1, \"div\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"ion-card\", 7)(12, \"ion-card-content\")(13, \"ion-text\", 1)(14, \"h1\");\n          i0.ɵɵtext(15);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(16, \"div\", 8)(17, \"ion-button\", 9);\n          i0.ɵɵlistener(\"click\", function Tab2Page_Template_ion_button_click_17_listener() {\n            return ctx.addPhotoToGallery();\n          });\n          i0.ɵɵtext(18, \"\\uD83D\\uDCF8 Tomar Foto\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"ion-button\", 10);\n          i0.ɵɵtext(20, \"\\u2139\\uFE0F Cambiar Nombre\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(21, \"ion-alert\", 11);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"translucent\", true);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"fullscreen\", true);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngForOf\", ctx.photoService.photos);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.nameUser);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"buttons\", ctx.alertButtons)(\"inputs\", ctx.alertInputs);\n        }\n      },\n      dependencies: [i2.IonAlert, i2.IonAvatar, i2.IonButton, i2.IonCard, i2.IonCardContent, i2.IonContent, i2.IonHeader, i2.IonImg, i2.IonText, i2.IonTitle, i2.IonToolbar, i4.NgForOf],\n      styles: [\"#image[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 10px;\\n  width: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGFiMi90YWIyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxVQUFBO0FBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyIjaW1hZ2Uge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIHdpZHRoOiAxMCU7XG4gICAgfVxuICAgICJdLCJzb3VyY2VSb290IjoiIn0= */\", \".photo-grid[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 10px;\\n  justify-content: center;\\n}\\n\\n.photo-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%] {\\n  width: 100px;\\n  height: 100px;\\n}\\n\\n.button-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  gap: 10px;\\n  margin-top: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGFiMi90YWIyLnBhZ2UuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLGFBQUE7RUFDQSxlQUFBO0VBQ0EsU0FBQTtFQUNBLHVCQUFBO0FBQUo7O0FBRUU7RUFDRSxZQUFBO0VBQ0EsYUFBQTtBQUNKOztBQUNFO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsU0FBQTtFQUNBLGdCQUFBO0FBRUoiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgLnBob3RvLWdyaWQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIGdhcDogMTBweDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgfVxuICAucGhvdG8taXRlbSBpb24tYXZhdGFyIHtcbiAgICB3aWR0aDogMTAwcHg7XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgfVxuICAuYnV0dG9uLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBnYXA6IDEwcHg7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbiAgfVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","Tab2Page_div_10_Template_ion_img_click_2_listener","ctx_r1","ɵɵrestoreView","_r1","photo_r3","$implicit","position_r4","index","ctx_r4","ɵɵnextContext","ɵɵresetView","showActionSheet","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","webviewPath","Tab2Page","constructor","photoService","actionSheetController","photosService","alertButtons","text","handler","data","setName","Nombre","alertInputs","name","placeholder","addPhotoToGallery","addNewToGallery","ngOnInit","_this","_asyncToGenerator","loadSaved","sharedNombre","subscribe","nombreUser","nameUser","sharedPhoto","photo","photos","position","_this2","actionSheet","create","header","buttons","role","icon","deletePicture","present","nextNombre","ɵɵdirectiveInject","i1","PhotoService","i2","ActionSheetController","i3","PhotosService","selectors","standalone","decls","vars","consts","template","Tab2Page_Template","rf","ctx","ɵɵtext","ɵɵtemplate","Tab2Page_div_10_Template","Tab2Page_Template_ion_button_click_17_listener","ɵɵelement","ɵɵtextInterpolate"],"sources":["/workspaces/Photo-Gallery/src/app/tab2/tab2.page.ts","/workspaces/Photo-Gallery/src/app/tab2/tab2.page.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { PhotoService, UserPhoto } from '../services/photo.service';\nimport { ActionSheetController } from '@ionic/angular';\nimport { PhotosService } from '../photoServices/photos.service';\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss'],\n  standalone: false,\n})\nexport class Tab2Page {\n  nameUser!: string;\n  alertButtons = [\n    {\n      text: \"actualizar\",\n      handler: (data: { Nombre: string; }) => {\n        this.setName(data.Nombre);\n      }\n    }\n  ]\n  alertInputs = [\n    {\n      name: \"Nombre\",\n      placeholder: \"ingrese el nombre nuevo\"\n    }\n  ]\n  constructor(public photoService: PhotoService,\n    public actionSheetController: ActionSheetController, public photosService: PhotosService) {}\n\n\n  // Agregar foto\n  addPhotoToGallery() {\n    this.photoService.addNewToGallery(this.photosService);\n  }\n\n  async ngOnInit() {\n    await this.photoService.loadSaved();\n    this.photosService.sharedNombre.subscribe(nombreUser => this.nameUser = nombreUser);\n    this.photosService.sharedPhoto.subscribe(photo => this.photoService.photos = photo)\n  }\n\n  public async showActionSheet(photo: UserPhoto, position: number) {\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Photos',\n      buttons: [{\n        text: 'Delete',\n        role: 'destructive',\n        icon: 'trash',\n        handler: () => {\n          this.photoService.deletePicture(photo, position, this.photosService);\n        }\n      }, {\n        text: 'Cancel',\n        icon: 'close',\n        role: 'cancel',\n        handler: () => {\n          // Nothing to do, action sheet is automatically closed\n          }\n      }]\n    });\n    await actionSheet.present();\n  }\n\n  setName(name: string){\n    this.photosService.nextNombre(name);\n  }\n\n  \n  \n}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar color=\"primary\">\n    <ion-title>\n      📷 Edicion \n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\" class=\"ion-padding\">\n  <ion-header collapse=\"condense\">\n    <ion-toolbar>\n      <ion-title size=\"large\">📷 Galería de fotos</ion-title>\n    </ion-toolbar>\n  </ion-header>\n\n  <div class=\"photo-grid\">\n    <div class=\"photo-item\" *ngFor=\"let photo of photoService.photos; index as position\">\n      <ion-avatar>\n        <ion-img [src]=\"photo.webviewPath\" (click)=\"showActionSheet(photo, position)\"></ion-img>\n      </ion-avatar>\n    </div>\n  </div>\n\n  <ion-card class=\"ion-text-center\">\n    <ion-card-content>\n      <ion-text color=\"primary\">\n        <h1>{{ nameUser }}</h1>\n      </ion-text>\n    </ion-card-content>\n  </ion-card>\n\n  <div class=\"button-container\">\n    <ion-button expand=\"block\" (click)=\"addPhotoToGallery()\">📸 Tomar Foto</ion-button>\n    <ion-button expand=\"block\" color=\"medium\" id=\"changeName\">ℹ️ Cambiar Nombre</ion-button>\n  </div>\n\n  <ion-alert\n    trigger=\"changeName\"\n    header=\"Actualizar Nombre\"\n    [buttons]=\"alertButtons\"\n    [inputs]=\"alertInputs\">\n  </ion-alert>\n</ion-content>\n\n<style>\n  .photo-grid {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 10px;\n    justify-content: center;\n  }\n  .photo-item ion-avatar {\n    width: 100px;\n    height: 100px;\n  }\n  .button-container {\n    display: flex;\n    justify-content: center;\n    gap: 10px;\n    margin-top: 20px;\n  }\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}